{"ast":null,"code":"var _jsxFileName = \"/Users/patrykliberski/Downloads/Dev/car-rental-system/src/components/ReservationForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { reserveCar } from '../features/cars/carSlice';\nimport '../styles/ReservationForm.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReservationForm = () => {\n  _s();\n  // Dispatch hook to send actions to the Redux store\n  const dispatch = useDispatch();\n\n  // Selector to retrieve available cars from the Redux store\n  const availableCars = useSelector(state => state.cars.availableCars);\n\n  // Local state for managing form inputs\n  const [carType, setCarType] = useState('sedan');\n  const [startDate, setStartDate] = useState('');\n  const [days, setDays] = useState(1);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  // Form submission handler\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    // Get today's date in YYYY-MM-DD format\n    const today = new Date().toISOString().split('T')[0];\n\n    // Validate if the start date is selected\n    if (!startDate) {\n      setErrorMessage('Please select a start date.');\n      return;\n    }\n\n    // Validate if the start date is not in the past\n    if (startDate < today) {\n      setErrorMessage('The start date cannot be in the past.');\n      return;\n    }\n\n    // Validate if the number of rental days is greater than 0\n    if (days <= 0) {\n      setErrorMessage('The number of days must be greater than 0.');\n      return;\n    }\n\n    // Find an available car of the selected type\n    const selectedCar = availableCars.find(car => car.type === carType && car.available);\n    if (selectedCar) {\n      // Dispatch the reserveCar action if an available car is found\n      dispatch(reserveCar({\n        carId: selectedCar.id,\n        type: selectedCar.type,\n        startDate,\n        days\n      }));\n      setErrorMessage(''); // Clear error message after successful reservation\n    } else {\n      // Set error message if no cars of the selected type are available\n      setErrorMessage(`No available cars of type ${carType}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"form__header\",\n      children: \"Reserve a Car\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"form__error\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form__label\",\n      htmlFor: \"carType\",\n      children: \"Car Type\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"carType\",\n      value: carType,\n      onChange: e => setCarType(e.target.value),\n      className: \"form__select\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"sedan\",\n        children: \"Sedan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"SUV\",\n        children: \"SUV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"van\",\n        children: \"Van\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form__label\",\n      htmlFor: \"startDate\",\n      children: \"Start Date\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startDate\",\n      type: \"date\",\n      value: startDate,\n      onChange: e => setStartDate(e.target.value),\n      className: \"form__input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form__label\",\n      htmlFor: \"days\",\n      children: \"Days\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"days\",\n      type: \"number\",\n      value: days,\n      onChange: e => setDays(Number(e.target.value)),\n      className: \"form__input\",\n      min: \"1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"form__button\",\n      children: \"Reserve\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(ReservationForm, \"9TngEft4rN0ZlEV9FnM/35lJYuo=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = ReservationForm;\nexport default ReservationForm;\nvar _c;\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","reserveCar","jsxDEV","_jsxDEV","ReservationForm","_s","dispatch","availableCars","state","cars","carType","setCarType","startDate","setStartDate","days","setDays","errorMessage","setErrorMessage","handleSubmit","e","preventDefault","today","Date","toISOString","split","selectedCar","find","car","type","available","carId","id","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","value","onChange","target","Number","min","_c","$RefreshReg$"],"sources":["/Users/patrykliberski/Downloads/Dev/car-rental-system/src/components/ReservationForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../store/store';\nimport { reserveCar } from '../features/cars/carSlice';\nimport '../styles/ReservationForm.scss';\n\nconst ReservationForm: React.FC = () => {\n  // Dispatch hook to send actions to the Redux store\n  const dispatch = useDispatch();\n\n  // Selector to retrieve available cars from the Redux store\n  const availableCars = useSelector((state: RootState) => state.cars.availableCars);\n\n  // Local state for managing form inputs\n  const [carType, setCarType] = useState<'sedan' | 'SUV' | 'van'>('sedan');\n  const [startDate, setStartDate] = useState<string>('');\n  const [days, setDays] = useState<number>(1);\n  const [errorMessage, setErrorMessage] = useState<string>('');\n\n  // Form submission handler\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Get today's date in YYYY-MM-DD format\n    const today = new Date().toISOString().split('T')[0];\n\n    // Validate if the start date is selected\n    if (!startDate) {\n      setErrorMessage('Please select a start date.');\n      return;\n    }\n\n    // Validate if the start date is not in the past\n    if (startDate < today) {\n      setErrorMessage('The start date cannot be in the past.');\n      return;\n    }\n\n    // Validate if the number of rental days is greater than 0\n    if (days <= 0) {\n      setErrorMessage('The number of days must be greater than 0.');\n      return;\n    }\n\n    // Find an available car of the selected type\n    const selectedCar = availableCars.find(car => car.type === carType && car.available);\n    if (selectedCar) {\n      // Dispatch the reserveCar action if an available car is found\n      dispatch(reserveCar({ carId: selectedCar.id, type: selectedCar.type, startDate, days }));\n      setErrorMessage(''); // Clear error message after successful reservation\n    } else {\n      // Set error message if no cars of the selected type are available\n      setErrorMessage(`No available cars of type ${carType}`);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"form\">\n      <h1 className=\"form__header\">Reserve a Car</h1>\n\n      {/* Display error message if any */}\n      {errorMessage && <p className=\"form__error\">{errorMessage}</p>}\n\n      {/* Car type selection */}\n      <label className=\"form__label\" htmlFor=\"carType\">Car Type</label>\n      <select\n        id=\"carType\"\n        value={carType}\n        onChange={(e) => setCarType(e.target.value as 'sedan' | 'SUV' | 'van')}\n        className=\"form__select\"\n      >\n        <option value=\"sedan\">Sedan</option>\n        <option value=\"SUV\">SUV</option>\n        <option value=\"van\">Van</option>\n      </select>\n\n      {/* Start date input */}\n      <label className=\"form__label\" htmlFor=\"startDate\">Start Date</label>\n      <input\n        id=\"startDate\"\n        type=\"date\"\n        value={startDate}\n        onChange={(e) => setStartDate(e.target.value)}\n        className=\"form__input\"\n      />\n\n      {/* Number of days input */}\n      <label className=\"form__label\" htmlFor=\"days\">Days</label>\n      <input\n        id=\"days\"\n        type=\"number\"\n        value={days}\n        onChange={(e) => setDays(Number(e.target.value))}\n        className=\"form__input\"\n        min=\"1\"\n      />\n\n      {/* Submit button */}\n      <button type=\"submit\" className=\"form__button\">Reserve</button>\n    </form>\n  );\n};\n\nexport default ReservationForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}